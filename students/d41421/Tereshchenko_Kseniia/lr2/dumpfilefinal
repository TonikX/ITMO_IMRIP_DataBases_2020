--
-- PostgreSQL database dump
--

-- Dumped from database version 11.7
-- Dumped by pg_dump version 11.7

-- Started on 2020-05-11 22:34:51 MSK

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

DROP DATABASE "Airport";
--
-- TOC entry 3186 (class 1262 OID 16393)
-- Name: Airport; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE "Airport" WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'C' LC_CTYPE = 'C';


ALTER DATABASE "Airport" OWNER TO postgres;

\connect "Airport"

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 7 (class 2615 OID 24621)
-- Name: shemafinal; Type: SCHEMA; Schema: -; Owner: postgres
--
--
--Создание схемы
--

CREATE SCHEMA shemafinal;


ALTER SCHEMA shemafinal OWNER TO postgres;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 207 (class 1259 OID 24667)
-- Name: crew; Type: TABLE; Schema: shemafinal; Owner: postgres
--
--
--Создание таблицы crew(экипаж)
--

CREATE TABLE shemafinal.crew (
    id integer NOT NULL,
    crew_worker character varying
);


ALTER TABLE shemafinal.crew OWNER TO postgres;

--
-- TOC entry 204 (class 1259 OID 24630)
-- Name: flights; Type: TABLE; Schema: shemafinal; Owner: postgres
--
--
--Создание таблицы flights(рейсы)
--

CREATE TABLE shemafinal.flights (
    id integer NOT NULL,
    km_to_destination integer,
    departure_place character varying,
    destination_place character varying,
    departure_date date,
    arrival_date date,
    tickets_amount integer
);


ALTER TABLE shemafinal.flights OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 24659)
-- Name: h_resources; Type: TABLE; Schema: shemafinal; Owner: postgres
--
--
--Создание таблицы h_resources(сотрудники)
--

CREATE TABLE shemafinal.h_resources (
    id integer NOT NULL,
    name character varying,
    "position" character varying,
    age integer,
    education character varying,
    experience character varying,
    passport integer
);


ALTER TABLE shemafinal.h_resources OWNER TO postgres;

--
-- TOC entry 203 (class 1259 OID 24622)
-- Name: planes; Type: TABLE; Schema: shemafinal; Owner: postgres
--
--
--Создание таблицы planes (самолеты)
--

CREATE TABLE shemafinal.planes (
    id integer NOT NULL,
    owner_name character varying,
    type character varying,
    speed integer,
    amount integer
);


ALTER TABLE shemafinal.planes OWNER TO postgres;

--
-- TOC entry 205 (class 1259 OID 24651)
-- Name: transits; Type: TABLE; Schema: shemafinal; Owner: postgres
--
--
--Создание таблицы transits(пересадки)
--

CREATE TABLE shemafinal.transits (
    id_landing integer NOT NULL,
    id_flight integer,
    transit_place character varying,
    transit_deptime time without time zone,
    transit_arrtime time without time zone
);


ALTER TABLE shemafinal.transits OWNER TO postgres;

--
-- TOC entry 3180 (class 0 OID 24667)
-- Dependencies: 207
-- Data for Name: crew; Type: TABLE DATA; Schema: shemafinal; Owner: postgres
--
--
--Заполнение таблицы  экипаж (crew)
--

INSERT INTO shemafinal.crew (id, crew_worker) VALUES (1, 'Ivanov Ivan Ivanovich');
INSERT INTO shemafinal.crew (id, crew_worker) VALUES (2, 'Petrov Ilya Vasylyevich');
INSERT INTO shemafinal.crew (id, crew_worker) VALUES (3, 'Krasnova Galina Petrovna');
INSERT INTO shemafinal.crew (id, crew_worker) VALUES (4, 'Zalova Elizaveta Olegovna');
INSERT INTO shemafinal.crew (id, crew_worker) VALUES (5, 'Rotov Arkady Konstantinovich');


--
-- TOC entry 3177 (class 0 OID 24630)
-- Dependencies: 204
-- Data for Name: flights; Type: TABLE DATA; Schema: shemafinal; Owner: postgres
--



--
-- TOC entry 3179 (class 0 OID 24659)
-- Dependencies: 206
-- Data for Name: h_resources; Type: TABLE DATA; Schema: shemafinal; Owner: postgres
--
--
-- Заполнение таблицы сотрудники (h_resouces)
--

INSERT INTO shemafinal.h_resources (id, name, "position", age, education, experience, passport) VALUES (1, 'Ivanov Ivan Ivanovich', 'pilot', 30, 'Saint Petersburg State University of Civil Aviation', '2 years as pilot', 1234567809);
INSERT INTO shemafinal.h_resources (id, name, "position", age, education, experience, passport) VALUES (2, 'Petrov Ilya Vasylyevich', 'second pilot', 25, 'Saint Petersburg State University of Civil Aviation', '1 year as second pilot', 1234567810);
INSERT INTO shemafinal.h_resources (id, name, "position", age, education, experience, passport) VALUES (3, 'Krasnova Galina Petrovna', 'stewardess', 30, 'Herzen University', '3 years', 1111567809);
INSERT INTO shemafinal.h_resources (id, name, "position", age, education, experience, passport) VALUES (4, 'Zalova Elizaveta Olegovna', 'stewardess', 27, 'middle', 'no experience, internship', 1010567809);
INSERT INTO shemafinal.h_resources (id, name, "position", age, education, experience, passport) VALUES (5, 'Rotov Arkady Konstantinovich', 'steward', 39, 'Saint-Petersburg State University of Culture and Arts', '10 years', 1910567810);


--
-- TOC entry 3176 (class 0 OID 24622)
-- Dependencies: 203
-- Data for Name: planes; Type: TABLE DATA; Schema: shemafinal; Owner: postgres
--
--
-- Заполнение таблицы самолеты (planes)
--
INSERT INTO shemafinal.planes (id, owner_name, type, speed, amount) VALUES (1, 'SHEREMETYEVO', 'TYPE1', 500, 1);
INSERT INTO shemafinal.planes (id, owner_name, type, speed, amount) VALUES (2, 'PULKOVO', 'TYPE1', 600, 2);
INSERT INTO shemafinal.planes (id, owner_name, type, speed, amount) VALUES (3, 'SHEREMETYEVO', 'TYPE2', 700, 3);
INSERT INTO shemafinal.planes (id, owner_name, type, speed, amount) VALUES (4, 'PULKOVO', 'TYPE2', 600, 4);
INSERT INTO shemafinal.planes (id, owner_name, type, speed, amount) VALUES (5, 'PULKOVO', 'TYPE3', 500, 5);


--
-- TOC entry 3178 (class 0 OID 24651)
-- Dependencies: 205
-- Data for Name: transits; Type: TABLE DATA; Schema: shemafinal; Owner: postgres
--
--
-- Заполнение таблицы пересадки (Transits)
--
INSERT INTO shemafinal.transits (id_landing, id_flight, transit_place, transit_deptime, transit_arrtime) VALUES (1, 1, 'St.Petersburg', '01:00:00', '02:00:00');
INSERT INTO shemafinal.transits (id_landing, id_flight, transit_place, transit_deptime, transit_arrtime) VALUES (2, NULL, NULL, NULL, NULL);
INSERT INTO shemafinal.transits (id_landing, id_flight, transit_place, transit_deptime, transit_arrtime) VALUES (3, NULL, NULL, NULL, NULL);
INSERT INTO shemafinal.transits (id_landing, id_flight, transit_place, transit_deptime, transit_arrtime) VALUES (4, NULL, NULL, NULL, NULL);
INSERT INTO shemafinal.transits (id_landing, id_flight, transit_place, transit_deptime, transit_arrtime) VALUES (5, NULL, NULL, NULL, NULL);


--
-- TOC entry 3054 (class 2606 OID 24674)
-- Name: crew crew_pkey; Type: CONSTRAINT; Schema: shemafinal; Owner: postgres
--
--
-- Добавление главных ключей 
--
ALTER TABLE ONLY shemafinal.crew
    ADD CONSTRAINT crew_pkey PRIMARY KEY (id);


--
-- TOC entry 3048 (class 2606 OID 24649)
-- Name: flights flights_pkey; Type: CONSTRAINT; Schema: shemafinal; Owner: postgres
--

ALTER TABLE ONLY shemafinal.flights
    ADD CONSTRAINT flights_pkey PRIMARY KEY (id);


--
-- TOC entry 3052 (class 2606 OID 24666)
-- Name: h_resources h_resources_pkey; Type: CONSTRAINT; Schema: shemafinal; Owner: postgres
--

ALTER TABLE ONLY shemafinal.h_resources
    ADD CONSTRAINT h_resources_pkey PRIMARY KEY (id);


--
-- TOC entry 3046 (class 2606 OID 24629)
-- Name: planes planes_pkey; Type: CONSTRAINT; Schema: shemafinal; Owner: postgres
--

ALTER TABLE ONLY shemafinal.planes
    ADD CONSTRAINT planes_pkey PRIMARY KEY (id);


--
-- TOC entry 3050 (class 2606 OID 24658)
-- Name: transits transits_pkey; Type: CONSTRAINT; Schema: shemafinal; Owner: postgres
--

ALTER TABLE ONLY shemafinal.transits
    ADD CONSTRAINT transits_pkey PRIMARY KEY (id_landing);


-- Completed on 2020-05-11 22:34:52 MSK

--
-- PostgreSQL database dump complete
--

